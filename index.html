<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WhatTheFork ğŸ´ â€“ Roll the Dice, Skip the Drama</title>
  <meta name="description" content="WhatTheFork is the fun dinner decider for couples and families. Roll a dice, get a recipe, and end the 'what do we eat tonight?' argument forever. Free recipe generator with tips, tricks, and a lot of fork energy." />
  <meta name="keywords" content="what to cook tonight, dinner idea generator, random recipe, couple dinner ideas, recipe dice roller, what to eat tonight, easy dinner ideas, recipe generator" />
  <meta name="author" content="Prajit Datta" />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://prajitdatta.github.io/whatthefork/" />
  <link rel="icon" type="image/jpeg" href="https://static.wixstatic.com/media/68ad1b_96c952149d584505bdfc30a3cbf36795~mv2.jpg" />
  <link rel="apple-touch-icon" href="https://static.wixstatic.com/media/68ad1b_96c952149d584505bdfc30a3cbf36795~mv2.jpg" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://prajitdatta.github.io/whatthefork/" />
  <meta property="og:title" content="WhatTheFork ğŸ´ â€“ Roll the Dice, Skip the Drama" />
  <meta property="og:description" content="End the dinner debate once and for all. Roll a dice and get a full recipe with tips. Free, fun, and delicious." />
  <meta property="og:image" content="https://whatthefork.app/og-image.jpg" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="WhatTheFork ğŸ´ â€“ Roll the Dice, Skip the Drama" />
  <meta name="twitter:description" content="End the dinner debate once and for all. Roll a dice and get a full recipe with tips." />

  <!-- Schema.org structured data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "WhatTheFork",
    "description": "A fun random recipe generator for couples and families who can never decide what to cook.",
    "url": "https://whatthefork.app",
    "applicationCategory": "FoodApplication",
    "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" },
    "featureList": ["Random recipe generator", "Dice roller", "Recipe tips", "Ingredient lists"],
    "keywords": "recipe generator, dinner ideas, what to cook tonight"
  }
  </script>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Boogaloo&family=Nunito:wght@400;600;700;900&display=swap" rel="stylesheet" />

  <style>
    :root {
      --yolk: #FFD93D;
      --tomato: #FF6B6B;
      --basil: #6BCB77;
      --sky: #4D96FF;
      --cream: #FFF8F0;
      --dark: #1A1A2E;
      --card: #FFFFFF;
      --shadow: rgba(26,26,46,0.12);

      /* Spacing scale */
      --space-xs: 8px;
      --space-sm: 12px;
      --space-md: 20px;
      --space-lg: 32px;
      --space-xl: 48px;

      /* Font sizes â€“ fluid */
      --fs-sm: clamp(0.75rem, 1.8vw, 0.85rem);
      --fs-base: clamp(0.875rem, 2vw, 1rem);
      --fs-lg: clamp(1rem, 2.5vw, 1.2rem);
      --fs-xl: clamp(1.2rem, 3vw, 1.5rem);
    }

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    html { scroll-behavior: smooth; }

    body {
      font-family: 'Nunito', sans-serif;
      background: var(--cream);
      color: var(--dark);
      min-height: 100vh;
      overflow-x: hidden;
      -webkit-text-size-adjust: 100%;
    }

    /* Animated background blobs */
    body::before {
      content: '';
      position: fixed;
      top: -200px; left: -200px;
      width: 600px; height: 600px;
      background: radial-gradient(circle, rgba(255,217,61,0.18) 0%, transparent 70%);
      border-radius: 50%;
      animation: float1 12s ease-in-out infinite;
      pointer-events: none;
      z-index: 0;
    }
    body::after {
      content: '';
      position: fixed;
      bottom: -150px; right: -150px;
      width: 500px; height: 500px;
      background: radial-gradient(circle, rgba(255,107,107,0.15) 0%, transparent 70%);
      border-radius: 50%;
      animation: float2 10s ease-in-out infinite;
      pointer-events: none;
      z-index: 0;
    }

    @keyframes float1 { 0%,100%{transform:translate(0,0)} 50%{transform:translate(60px,40px)} }
    @keyframes float2 { 0%,100%{transform:translate(0,0)} 50%{transform:translate(-40px,-60px)} }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       HEADER
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    header {
      position: relative;
      z-index: 10;
      text-align: center;
      padding: clamp(28px, 6vw, 48px) clamp(16px, 4vw, 24px) clamp(12px, 3vw, 20px);
    }

    .logo {
      font-family: 'Boogaloo', cursive;
      font-size: clamp(2.4rem, 9vw, 6rem);
      color: var(--dark);
      letter-spacing: -1px;
      line-height: 1;
      position: relative;
      display: inline-block;
    }
    .logo span { color: var(--tomato); }
    .logo .fork-icon {
      display: inline-block;
      animation: wiggle 3s ease-in-out infinite;
    }
    @keyframes wiggle { 0%,100%{transform:rotate(-8deg)} 50%{transform:rotate(8deg)} }

    .tagline {
      font-size: clamp(0.85rem, 2.5vw, 1.25rem);
      font-weight: 700;
      color: #888;
      margin-top: 8px;
      letter-spacing: 0.5px;
      padding: 0 8px;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       MAIN LAYOUT
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    main {
      position: relative;
      z-index: 10;
      max-width: 860px;
      margin: 0 auto;
      padding: 0 clamp(12px, 4vw, 20px) clamp(40px, 8vw, 60px);
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       CATEGORY FILTERS
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .filters {
      display: flex;
      flex-wrap: wrap;
      gap: clamp(6px, 2vw, 10px);
      justify-content: center;
      margin: clamp(20px, 5vw, 32px) 0 clamp(16px, 4vw, 24px);
    }

    .filter-btn {
      border: 2.5px solid var(--dark);
      background: white;
      color: var(--dark);
      font-family: 'Nunito', sans-serif;
      font-size: clamp(0.75rem, 2vw, 0.9rem);
      font-weight: 700;
      padding: clamp(6px, 1.5vw, 8px) clamp(12px, 3vw, 18px);
      border-radius: 999px;
      cursor: pointer;
      transition: all 0.18s ease;
      box-shadow: 3px 3px 0 var(--dark);
      white-space: nowrap;
      /* Tap target minimum 44px on mobile */
      min-height: 36px;
      display: flex;
      align-items: center;
    }
    .filter-btn:hover, .filter-btn.active {
      background: var(--dark);
      color: white;
      transform: translate(-2px,-2px);
      box-shadow: 5px 5px 0 var(--tomato);
    }
    /* Touch device: bigger tap areas */
    @media (hover: none) {
      .filter-btn:active {
        background: var(--dark);
        color: white;
        transform: translate(-2px,-2px);
        box-shadow: 5px 5px 0 var(--tomato);
      }
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       MODE TOGGLE
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .mode-toggle {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0;
      margin: 0 0 clamp(18px, 4vw, 28px);
      background: white;
      border: 2.5px solid var(--dark);
      border-radius: 999px;
      padding: 4px;
      width: fit-content;
      max-width: 100%;
      margin-left: auto;
      margin-right: auto;
      box-shadow: 4px 4px 0 var(--dark);
    }
    .mode-btn {
      font-family: 'Nunito', sans-serif;
      font-weight: 700;
      font-size: clamp(0.8rem, 2.2vw, 0.9rem);
      padding: clamp(8px, 2vw, 9px) clamp(14px, 4vw, 22px);
      border-radius: 999px;
      border: none;
      background: transparent;
      cursor: pointer;
      color: #888;
      transition: all 0.2s ease;
      min-height: 40px;
      white-space: nowrap;
    }
    .mode-btn.active {
      background: var(--dark);
      color: white;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       CUSTOM CHOICES PANEL
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    #custom-panel {
      background: white;
      border: 3px solid var(--dark);
      border-radius: 20px;
      box-shadow: 6px 6px 0 var(--dark);
      padding: clamp(16px, 4vw, 28px);
      margin-bottom: clamp(18px, 4vw, 28px);
      display: none;
    }
    #custom-panel.visible { display: block; }

    .panel-title {
      font-family: 'Boogaloo', cursive;
      font-size: clamp(1.2rem, 4vw, 1.5rem);
      margin-bottom: 6px;
    }
    .panel-sub {
      font-size: var(--fs-sm);
      color: #999;
      font-weight: 600;
      margin-bottom: clamp(14px, 3vw, 20px);
      line-height: 1.5;
    }
    .choices-list {
      display: flex;
      flex-direction: column;
      gap: clamp(8px, 2vw, 10px);
      margin-bottom: clamp(12px, 3vw, 16px);
    }
    .choice-row {
      display: flex;
      gap: 8px;
      align-items: center;
      animation: slideIn 0.2s ease;
    }
    @keyframes slideIn { from { opacity:0; transform:translateY(-8px); } to { opacity:1; transform:translateY(0); } }

    .choice-input {
      flex: 1;
      font-family: 'Nunito', sans-serif;
      font-size: var(--fs-base);
      font-weight: 600;
      padding: clamp(9px, 2vw, 10px) clamp(12px, 3vw, 14px);
      border: 2.5px solid #ddd;
      border-radius: 12px;
      outline: none;
      transition: border-color 0.15s;
      background: var(--cream);
      min-height: 44px;
    }
    .choice-input:focus { border-color: var(--tomato); background: white; }
    .choice-input::placeholder { color: #ccc; font-weight: 400; }

    .remove-choice {
      width: 40px; height: 40px;
      min-width: 40px;
      border: 2px solid #ddd;
      background: white;
      border-radius: 10px;
      font-size: 1rem;
      cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      flex-shrink: 0;
      transition: all 0.15s;
      color: #bbb;
    }
    .remove-choice:hover { border-color: var(--tomato); color: var(--tomato); background: #FFF0F0; }

    .add-choice-btn {
      background: transparent;
      border: 2.5px dashed #ccc;
      color: #aaa;
      font-family: 'Nunito', sans-serif;
      font-weight: 700;
      font-size: var(--fs-sm);
      padding: clamp(8px, 2vw, 9px) clamp(14px, 3vw, 18px);
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.15s;
      align-self: flex-start;
      min-height: 40px;
    }
    .add-choice-btn:hover { border-color: var(--basil); color: var(--basil); background: #EDFFF2; }

    .choices-note {
      font-size: var(--fs-sm);
      color: #bbb;
      font-weight: 600;
      margin-top: 12px;
      font-style: italic;
      line-height: 1.5;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       DICE AREA
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .dice-area {
      text-align: center;
      margin: 0 0 clamp(24px, 5vw, 36px);
    }

    .dice-wrapper {
      perspective: 600px;
      display: inline-block;
      cursor: pointer;
      margin-bottom: clamp(14px, 3vw, 20px);
    }
    .dice {
      width: clamp(80px, 18vw, 110px);
      height: clamp(80px, 18vw, 110px);
      background: white;
      border: 3px solid var(--dark);
      border-radius: clamp(14px, 4vw, 20px);
      display: flex; align-items: center; justify-content: center;
      font-size: clamp(2rem, 6vw, 3.2rem);
      box-shadow: 6px 6px 0 var(--dark);
      transition: transform 0.15s ease, box-shadow 0.15s ease;
      user-select: none;
      position: relative;
      overflow: hidden;
    }
    .dice::after {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(255,255,255,0.4) 0%, transparent 60%);
      border-radius: inherit;
      pointer-events: none;
    }
    .dice:hover { transform: translate(-3px,-3px); box-shadow: 9px 9px 0 var(--dark); }
    .dice:active { transform: translate(2px,2px); box-shadow: 3px 3px 0 var(--dark); }
    .dice.rolling { animation: roll 0.6s ease forwards; }
    @keyframes roll {
      0%   { transform: rotateY(0deg) rotateX(0deg); }
      25%  { transform: rotateY(180deg) rotateX(90deg); }
      50%  { transform: rotateY(360deg) rotateX(180deg); }
      75%  { transform: rotateY(540deg) rotateX(270deg); }
      100% { transform: rotateY(720deg) rotateX(360deg); }
    }

    .roll-btn {
      display: block;
      width: clamp(200px, 70%, 320px);
      margin: 0 auto;
      background: var(--tomato);
      color: white;
      font-family: 'Boogaloo', cursive;
      font-size: clamp(1.2rem, 4vw, 1.5rem);
      letter-spacing: 0.5px;
      border: 3px solid var(--dark);
      border-radius: 16px;
      padding: clamp(12px, 3vw, 14px) clamp(24px, 6vw, 48px);
      cursor: pointer;
      box-shadow: 5px 5px 0 var(--dark);
      transition: all 0.15s ease;
      /* iOS tap highlight fix */
      -webkit-tap-highlight-color: transparent;
    }
    .roll-btn:hover { transform: translate(-3px,-3px); box-shadow: 8px 8px 0 var(--dark); }
    .roll-btn:active { transform: translate(2px,2px); box-shadow: 2px 2px 0 var(--dark); }
    .roll-btn:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }

    .roll-hint {
      margin-top: 10px;
      font-size: var(--fs-sm);
      color: #aaa;
      font-weight: 600;
      padding: 0 16px;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       RECIPE CARD
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    #recipe-card {
      background: white;
      border: 3px solid var(--dark);
      border-radius: clamp(16px, 4vw, 24px);
      box-shadow: 8px 8px 0 var(--dark);
      padding: clamp(18px, 5vw, 36px);
      display: none;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.4s ease, transform 0.4s ease;
    }
    #recipe-card.visible {
      display: block;
      opacity: 1;
      transform: translateY(0);
    }
    #recipe-card.entering { display: block; }

    /* Recipe header â€” stacks on small screens */
    .recipe-header {
      display: flex;
      align-items: flex-start;
      gap: clamp(10px, 3vw, 16px);
      margin-bottom: clamp(18px, 4vw, 28px);
      flex-wrap: wrap;
    }
    .recipe-emoji {
      font-size: clamp(2.4rem, 8vw, 4rem);
      line-height: 1;
      flex-shrink: 0;
    }
    .recipe-title-group { flex: 1; min-width: 180px; }
    .recipe-title {
      font-family: 'Boogaloo', cursive;
      font-size: clamp(1.5rem, 5vw, 2.4rem);
      color: var(--dark);
      line-height: 1.1;
    }
    .recipe-meta {
      display: flex;
      gap: clamp(6px, 2vw, 12px);
      flex-wrap: wrap;
      margin-top: 8px;
    }
    .badge {
      font-size: clamp(0.68rem, 1.8vw, 0.78rem);
      font-weight: 700;
      padding: clamp(3px, 1vw, 4px) clamp(8px, 2.5vw, 12px);
      border-radius: 999px;
      border: 2px solid var(--dark);
      white-space: nowrap;
    }
    .badge.time { background: var(--yolk); }
    .badge.difficulty { background: var(--basil); }
    .badge.servings { background: var(--sky); color: white; }
    .badge.category { background: var(--tomato); color: white; }

    .recipe-funny {
      background: #FFF3E0;
      border: 2px dashed #FFB347;
      border-radius: 12px;
      padding: clamp(10px, 3vw, 14px) clamp(12px, 3vw, 18px);
      font-size: clamp(0.82rem, 2.2vw, 0.95rem);
      font-weight: 600;
      color: #c06000;
      margin-bottom: clamp(16px, 4vw, 24px);
      font-style: italic;
      line-height: 1.5;
    }

    .section-title {
      font-family: 'Boogaloo', cursive;
      font-size: clamp(1.1rem, 3.5vw, 1.4rem);
      margin-bottom: clamp(10px, 2.5vw, 14px);
      display: flex;
      align-items: center;
      gap: 8px;
      color: var(--dark);
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       INGREDIENTS TABLE â€” responsive
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .table-wrapper {
      width: 100%;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      border-radius: 12px;
      margin-bottom: clamp(18px, 4vw, 28px);
    }
    /* Hint scrollbar on mobile */
    .table-wrapper::-webkit-scrollbar { height: 4px; }
    .table-wrapper::-webkit-scrollbar-track { background: #f0ede8; }
    .table-wrapper::-webkit-scrollbar-thumb { background: var(--tomato); border-radius: 4px; }

    .ingredients-table {
      width: 100%;
      min-width: 400px; /* keeps columns from collapsing */
      border-collapse: collapse;
      font-size: clamp(0.8rem, 2.2vw, 0.95rem);
    }
    .ingredients-table th {
      background: var(--dark);
      color: white;
      padding: clamp(8px, 2vw, 10px) clamp(10px, 2.5vw, 14px);
      text-align: left;
      font-weight: 700;
    }
    .ingredients-table th:first-child { border-radius: 10px 0 0 0; }
    .ingredients-table th:last-child { border-radius: 0 10px 0 0; }
    .ingredients-table td {
      padding: clamp(8px, 2vw, 10px) clamp(10px, 2.5vw, 14px);
      border-bottom: 1.5px solid #F0EDE8;
    }
    .ingredients-table tr:nth-child(even) td { background: #FAFAF8; }
    .ingredients-table tr:last-child td:first-child { border-radius: 0 0 0 10px; }
    .ingredients-table tr:last-child td:last-child { border-radius: 0 0 10px 0; }
    .ingredients-table tr:hover td { background: #FFF8F0; }

    .check-ingredient {
      cursor: pointer;
      width: 20px; height: 20px;
      min-width: 20px;
      accent-color: var(--tomato);
    }
    /* bigger tap target on touch */
    @media (hover: none) {
      .check-ingredient { width: 24px; height: 24px; }
    }
    .ingredient-row.checked td { text-decoration: line-through; color: #aaa; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       STEPS
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .steps-list {
      list-style: none;
      counter-reset: steps;
      margin-bottom: clamp(18px, 4vw, 28px);
    }
    .step-item {
      counter-increment: steps;
      display: flex;
      gap: clamp(10px, 3vw, 14px);
      margin-bottom: clamp(12px, 3vw, 16px);
      align-items: flex-start;
    }
    .step-num {
      flex-shrink: 0;
      width: clamp(28px, 6vw, 32px);
      height: clamp(28px, 6vw, 32px);
      background: var(--tomato);
      color: white;
      border-radius: 50%;
      border: 2.5px solid var(--dark);
      display: flex; align-items: center; justify-content: center;
      font-weight: 900;
      font-size: clamp(0.75rem, 2vw, 0.9rem);
    }
    .step-text {
      padding-top: 4px;
      line-height: 1.6;
      font-size: var(--fs-base);
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       TIPS GRID
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .tips-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(min(100%, 200px), 1fr));
      gap: clamp(10px, 3vw, 14px);
      margin-bottom: clamp(16px, 4vw, 24px);
    }
    .tip-card {
      background: var(--cream);
      border: 2px solid var(--dark);
      border-radius: 14px;
      padding: clamp(10px, 3vw, 14px);
      font-size: clamp(0.78rem, 2vw, 0.88rem);
      line-height: 1.5;
    }
    .tip-card strong {
      display: block;
      font-family: 'Boogaloo', cursive;
      font-size: clamp(0.9rem, 2.5vw, 1rem);
      margin-bottom: 4px;
    }
    .tip-card.upgrade { border-color: var(--sky); background: #EEF5FF; }
    .tip-card.warn { border-color: var(--tomato); background: #FFF0F0; }
    .tip-card.wine { border-color: #9C5FBE; background: #F7EEFF; }
    .tip-card.leftover { border-color: var(--basil); background: #EDFFF2; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       ACTION BUTTONS
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .card-actions {
      display: flex;
      gap: clamp(8px, 2vw, 12px);
      flex-wrap: wrap;
      margin-top: clamp(16px, 4vw, 24px);
      border-top: 2px dashed #e0ddd8;
      padding-top: clamp(14px, 3vw, 20px);
    }
    .action-btn {
      flex: 1 1 clamp(120px, 30%, 160px);
      min-width: 120px;
      font-family: 'Nunito', sans-serif;
      font-weight: 700;
      font-size: clamp(0.78rem, 2vw, 0.9rem);
      padding: clamp(9px, 2vw, 10px) clamp(10px, 2.5vw, 16px);
      border: 2.5px solid var(--dark);
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.15s ease;
      background: white;
      box-shadow: 3px 3px 0 var(--dark);
      text-align: center;
      min-height: 44px;
      -webkit-tap-highlight-color: transparent;
    }
    .action-btn:hover { transform: translate(-2px,-2px); box-shadow: 5px 5px 0 var(--dark); }
    .action-btn:active { transform: translate(1px,1px); box-shadow: 1px 1px 0 var(--dark); }
    .action-btn.primary { background: var(--yolk); }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       EMPTY STATE
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .empty-state {
      text-align: center;
      padding: clamp(40px, 10vw, 60px) 20px;
      color: #bbb;
    }
    .empty-state .big-icon {
      font-size: clamp(3rem, 10vw, 5rem);
      display: block;
      margin-bottom: 16px;
      animation: bounce 2s ease infinite;
    }
    @keyframes bounce { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-12px)} }
    .empty-state p { font-size: var(--fs-lg); font-weight: 700; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       CUSTOM RESULT BANNER
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .custom-result-banner {
      display: none;
      background: linear-gradient(135deg, var(--yolk), #ffb830);
      border: 2.5px solid var(--dark);
      border-radius: 14px;
      padding: clamp(12px, 3vw, 14px) clamp(14px, 4vw, 18px);
      font-size: clamp(0.88rem, 2.5vw, 1rem);
      font-weight: 700;
      color: var(--dark);
      margin-bottom: clamp(14px, 3vw, 20px);
      text-align: center;
      line-height: 1.5;
    }
    .custom-result-banner.show { display: block; animation: popIn 0.3s ease; }
    @keyframes popIn { 0%{transform:scale(0.9);opacity:0} 100%{transform:scale(1);opacity:1} }

    /* Banner inner buttons */
    .custom-result-banner button {
      font-family:'Nunito',sans-serif;
      font-weight:700;
      font-size: clamp(0.78rem, 2vw, 0.88rem);
      padding: clamp(7px, 2vw, 8px) clamp(12px, 3vw, 18px);
      border:2.5px solid var(--dark);
      border-radius:10px;
      background:white;
      cursor:pointer;
      box-shadow:3px 3px 0 var(--dark);
      transition:all 0.15s;
      min-height: 40px;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       HISTORY
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    #history-section { margin-top: clamp(32px, 8vw, 48px); }
    .history-title {
      font-family: 'Boogaloo', cursive;
      font-size: clamp(1.4rem, 5vw, 1.8rem);
      margin-bottom: clamp(12px, 3vw, 16px);
      display: flex; align-items: center; gap: 8px;
    }
    .history-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(clamp(130px, 30vw, 160px), 1fr));
      gap: clamp(8px, 2.5vw, 12px);
    }
    .history-item {
      background: white;
      border: 2.5px solid var(--dark);
      border-radius: 14px;
      padding: clamp(10px, 3vw, 14px);
      cursor: pointer;
      transition: all 0.15s ease;
      box-shadow: 3px 3px 0 var(--dark);
      text-align: center;
      min-height: 80px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    .history-item:hover { transform: translate(-2px,-2px); box-shadow: 5px 5px 0 var(--tomato); }
    .history-item:active { transform: translate(1px,1px); }
    .history-item .h-emoji { font-size: clamp(1.5rem, 5vw, 2rem); display: block; margin-bottom: 6px; }
    .history-item .h-name { font-weight: 700; font-size: clamp(0.72rem, 2vw, 0.85rem); }
    .history-item .h-date { font-size: clamp(0.62rem, 1.6vw, 0.72rem); color: #aaa; margin-top: 3px; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       FAQ
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    #faq {
      margin-top: clamp(40px, 10vw, 64px);
      border-top: 2px dashed #ddd;
      padding-top: clamp(24px, 6vw, 40px);
    }
    .faq-title {
      font-family: 'Boogaloo', cursive;
      font-size: clamp(1.5rem, 5vw, 2rem);
      margin-bottom: clamp(16px, 4vw, 24px);
      text-align: center;
    }
    details {
      background: white;
      border: 2.5px solid var(--dark);
      border-radius: 14px;
      margin-bottom: clamp(8px, 2vw, 12px);
      overflow: hidden;
      box-shadow: 3px 3px 0 var(--dark);
    }
    summary {
      font-weight: 700;
      font-size: var(--fs-base);
      padding: clamp(12px, 3vw, 16px) clamp(14px, 4vw, 20px);
      cursor: pointer;
      list-style: none;
      display: flex; justify-content: space-between; align-items: center;
      gap: 12px;
      min-height: 48px;
      -webkit-tap-highlight-color: transparent;
    }
    summary::-webkit-details-marker { display: none; }
    summary::after { content: 'â–¼'; font-size: 0.75rem; color: #aaa; transition: transform 0.2s; flex-shrink: 0; }
    details[open] summary::after { transform: rotate(180deg); }
    details p {
      padding: 0 clamp(14px, 4vw, 20px) clamp(12px, 3vw, 16px);
      line-height: 1.7;
      color: #555;
      font-size: var(--fs-base);
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       FOOTER
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    footer {
      position: relative; z-index: 10;
      text-align: center;
      padding: clamp(20px, 5vw, 32px) clamp(16px, 4vw, 20px);
      border-top: 2px dashed #ddd;
      font-size: clamp(0.75rem, 2vw, 0.85rem);
      color: #bbb;
      font-weight: 600;
      line-height: 1.8;
    }
    footer a { color: var(--tomato); text-decoration: none; }
    .creator-credit {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      margin-bottom: 10px;
      flex-wrap: wrap;
    }
    .creator-avatar {
      width: 36px; height: 36px;
      border-radius: 50%;
      border: 2px solid var(--tomato);
      object-fit: cover;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       TOAST
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .toast {
      position: fixed;
      bottom: clamp(20px, 5vw, 32px);
      left: 50%;
      transform: translateX(-50%) translateY(80px);
      background: var(--dark);
      color: white;
      padding: clamp(10px, 2.5vw, 12px) clamp(20px, 5vw, 28px);
      border-radius: 999px;
      font-weight: 700;
      font-size: clamp(0.82rem, 2.2vw, 0.95rem);
      z-index: 999;
      transition: transform 0.3s ease;
      box-shadow: 0 8px 24px rgba(0,0,0,0.25);
      white-space: nowrap;
      max-width: calc(100vw - 32px);
      white-space: normal;
      text-align: center;
    }
    .toast.show { transform: translateX(-50%) translateY(0); }

    /* Confetti canvas */
    #confetti-canvas {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      pointer-events: none;
      z-index: 1000;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       BREAKPOINT: SMALL PHONES (< 400px)
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    @media (max-width: 400px) {
      .recipe-header {
        flex-direction: column;
        align-items: flex-start;
      }
      .recipe-emoji {
        align-self: center;
      }
      .recipe-title-group {
        min-width: unset;
        width: 100%;
      }
      .card-actions {
        flex-direction: column;
      }
      .action-btn {
        flex: unset;
        width: 100%;
      }
      .tips-grid {
        grid-template-columns: 1fr;
      }
      .filter-btn {
        font-size: 0.72rem;
        padding: 6px 10px;
      }
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       BREAKPOINT: PHONES (< 560px)
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    @media (max-width: 560px) {
      #recipe-card { padding: clamp(14px, 4vw, 20px); }
      .tips-grid { grid-template-columns: 1fr 1fr; }
      .roll-btn { width: 100%; max-width: none; }

      /* On small screens, show table scroll hint */
      .table-wrapper::after {
        content: 'â† scroll â†’';
        display: block;
        text-align: center;
        font-size: 0.72rem;
        color: #ccc;
        font-weight: 700;
        margin-top: 4px;
        letter-spacing: 1px;
      }

      /* Banner buttons stack */
      .custom-result-banner > div {
        flex-direction: column !important;
        align-items: center !important;
      }
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       BREAKPOINT: TABLETS (560â€“860px)
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    @media (min-width: 560px) and (max-width: 860px) {
      .tips-grid { grid-template-columns: repeat(2, 1fr); }
      .action-btn { flex: 1 1 calc(50% - 6px); }
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       BREAKPOINT: DESKTOP (> 860px)
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    @media (min-width: 860px) {
      .tips-grid { grid-template-columns: repeat(4, 1fr); }
      .action-btn { flex: 1; }
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       REDUCED MOTION
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       DARK MODE (basic)
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    @media (prefers-color-scheme: dark) {
      :root {
        --cream: #16162a;
        --card: #1e1e36;
        --dark: #f0ece4;
        --shadow: rgba(0,0,0,0.4);
      }
      body { background: var(--cream); color: var(--dark); }
      body::before { background: radial-gradient(circle, rgba(255,217,61,0.08) 0%, transparent 70%); }
      body::after { background: radial-gradient(circle, rgba(255,107,107,0.08) 0%, transparent 70%); }

      .filter-btn, .action-btn, .mode-toggle, .mode-btn,
      #recipe-card, #custom-panel, .history-item, details, .dice {
        background: #23234a;
        color: #f0ece4;
        border-color: #f0ece4;
      }
      .ingredients-table td { border-bottom-color: #2e2e50; }
      .ingredients-table tr:nth-child(even) td { background: #1e1e38; }
      .ingredients-table tr:hover td { background: #2a2a4e; }
      .recipe-funny { background: #2a2000; border-color: #7a5000; color: #ffd080; }
      .choice-input { background: #1e1e36; border-color: #444; color: #f0ece4; }
      .choice-input:focus { background: #23234a; }
      .remove-choice { background: #23234a; border-color: #555; color: #aaa; }
      .tip-card { background: #1e1e36; }
      .tip-card.upgrade { background: #0e1830; }
      .tip-card.warn { background: #200e0e; }
      .tip-card.wine { background: #180e25; }
      .tip-card.leftover { background: #0e201a; }
      .mode-btn { color: #aaa; }
      .mode-btn.active { background: #f0ece4; color: #16162a; }
      .filter-btn:hover, .filter-btn.active { background: #f0ece4; color: #16162a; }
      .roll-btn { /* keep tomato */ }
      .history-item:hover { box-shadow: 5px 5px 0 var(--tomato); }
      .empty-state { color: #555; }
      details p { color: #bbb; }
      footer, .tagline, .roll-hint, .h-date, .choices-note { color: #666; }
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       PRINT
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    @media print {
      body::before, body::after, #confetti-canvas,
      .dice-area, .filters, .mode-toggle, #custom-panel,
      .card-actions, #history-section, #faq, footer,
      .toast { display: none !important; }

      #recipe-card {
        display: block !important;
        opacity: 1 !important;
        transform: none !important;
        box-shadow: none !important;
        border: 1px solid #ccc;
        padding: 16px;
      }
      main { max-width: 100%; padding: 0; }
      .tips-grid { grid-template-columns: repeat(2, 1fr); }
      a { color: inherit; text-decoration: none; }
    }
  </style>
</head>
<body>

<canvas id="confetti-canvas"></canvas>
<div class="toast" id="toast"></div>

<header>
  <h1 class="logo">
    What<span>The</span><span class="fork-icon">ğŸ´</span>Fork
  </h1>
  <p class="tagline">Roll the dice. End the argument. Eat something epic.</p>
</header>

<main>

  <!-- Category Filters -->
  <section aria-label="Recipe category filters">
    <div class="filters" id="filters" role="group" aria-label="Filter by cuisine or diet">
      <button class="filter-btn active" data-cat="all">ğŸ² Anything!</button>
      <button class="filter-btn" data-cat="indian">ğŸ› Indian</button>
      <button class="filter-btn" data-cat="asian">ğŸ¥¢ Asian</button>
      <button class="filter-btn" data-cat="italian">ğŸ Italian</button>
      <button class="filter-btn" data-cat="mexican">ğŸŒ® Mexican</button>
      <button class="filter-btn" data-cat="comfort">ğŸ§€ Comfort Food</button>
      <button class="filter-btn" data-cat="healthy">ğŸ¥— Healthy</button>
      <button class="filter-btn" data-cat="quick">âš¡ Quick (&lt;30min)</button>
      <button class="filter-btn" data-cat="fancy">âœ¨ Impress Me</button>
    </div>
  </section>

  <!-- Mode Toggle -->
  <div class="mode-toggle" role="group" aria-label="Roll mode">
    <button class="mode-btn active" id="mode-random" aria-pressed="true">ğŸ² Surprise Me</button>
    <button class="mode-btn" id="mode-custom" aria-pressed="false">âœï¸ My Choices</button>
  </div>

  <!-- Custom Choices Panel -->
  <div id="custom-panel" aria-label="Add your own meal choices">
    <div class="panel-title">ğŸ½ï¸ What's on your shortlist?</div>
    <p class="panel-sub">Type in the meals you're considering â€” the dice picks one for you. Add as many or as few as you like!</p>
    <div class="choices-list" id="choices-list"></div>
    <button class="add-choice-btn" id="add-choice-btn">â• Add another option</button>
    <p class="choices-note">ğŸ’¡ Leave all fields empty and the dice will go full chaos mode (random from our library)</p>
  </div>

  <!-- Dice Roll -->
  <section class="dice-area" aria-label="Dice roller">
    <div class="dice-wrapper" id="dice-wrapper" title="Click to roll!">
      <div class="dice" id="dice" role="button" tabindex="0" aria-label="Roll the dice for a random recipe">ğŸ²</div>
    </div>
    <button class="roll-btn" id="roll-btn" aria-label="Roll dice for a random recipe">
      ğŸ² Roll the Fork!
    </button>
    <p class="roll-hint">Tap the dice or button â€” or switch to "My Choices" mode above â˜ï¸</p>
  </section>

  <!-- Recipe Card -->
  <section id="recipe-card" aria-label="Generated recipe" itemscope itemtype="https://schema.org/Recipe">
    <div class="empty-state" id="empty-state">
      <span class="big-icon">ğŸ‘†</span>
      <p>Roll the dice to discover your dinner!</p>
    </div>

    <div class="custom-result-banner" id="custom-banner"></div>

    <div id="recipe-content" style="display:none">
      <div class="recipe-header">
        <div class="recipe-emoji" id="r-emoji"></div>
        <div class="recipe-title-group">
          <h2 class="recipe-title" id="r-title" itemprop="name"></h2>
          <div class="recipe-meta">
            <span class="badge time" id="r-time" aria-label="Cook time"></span>
            <span class="badge difficulty" id="r-diff"></span>
            <span class="badge servings" id="r-serv"></span>
            <span class="badge category" id="r-cat"></span>
          </div>
        </div>
      </div>

      <div class="recipe-funny" id="r-funny" role="note" aria-label="Funny tip"></div>

      <h3 class="section-title">ğŸ›’ Ingredients</h3>
      <div class="table-wrapper">
        <table class="ingredients-table" id="r-table" itemprop="recipeIngredient" aria-label="Ingredients list">
          <thead>
            <tr>
              <th>âœ“</th>
              <th>Ingredient</th>
              <th>Amount</th>
              <th>Notes</th>
            </tr>
          </thead>
          <tbody id="r-ingredients"></tbody>
        </table>
      </div>

      <h3 class="section-title">ğŸ‘¨â€ğŸ³ How to Make It</h3>
      <ol class="steps-list" id="r-steps" itemprop="recipeInstructions"></ol>

      <h3 class="section-title">ğŸ’¡ Make It Better</h3>
      <div class="tips-grid" id="r-tips"></div>

      <div class="card-actions">
        <button class="action-btn primary" onclick="window.print()">ğŸ–¨ï¸ Print Recipe</button>
        <button class="action-btn" id="share-btn">ğŸ“¤ Share with Partner</button>
        <button class="action-btn" id="save-btn">â¤ï¸ Save to History</button>
        <button class="action-btn" id="reroll-btn">ğŸ”„ Nope, Roll Again</button>
      </div>
    </div>
  </section>

  <!-- History -->
  <section id="history-section" style="display:none" aria-label="Recipe history">
    <h2 class="history-title">ğŸ“– Your Recipe Roll History</h2>
    <div class="history-grid" id="history-grid"></div>
  </section>

  <!-- FAQ for SEO -->
  <section id="faq" aria-label="Frequently asked questions">
    <h2 class="faq-title">ğŸ¤” Frequently Asked Questions</h2>

    <details>
      <summary>What is WhatTheFork?</summary>
      <p>WhatTheFork is a free, fun random recipe generator designed for couples and families who spend more time arguing about what to eat than actually eating. Roll a virtual dice, get a full recipe with ingredients, step-by-step instructions, and pro tips. Dinner drama solved in one click.</p>
    </details>
    <details>
      <summary>How do I use the recipe dice roller?</summary>
      <p>Click the big "Roll the Fork!" button or tap the dice icon. You can also filter by cuisine (Italian, Asian, Mexican, etc.) or dietary preference (Healthy, Quick, Fancy) before rolling. The dice will spin dramatically and reveal your dinner destiny.</p>
    </details>
    <details>
      <summary>Are the recipes beginner-friendly?</summary>
      <p>Absolutely! Each recipe shows a difficulty badge (Easy, Medium, Challenge). Recipes also include time estimates so you know if tonight calls for 20-minute pasta or a weekend slow-cook adventure. Every recipe includes beginner-friendly notes and tips to level up.</p>
    </details>
    <details>
      <summary>Can I save recipes I like?</summary>
      <p>Yes! Hit the "Save to History" button to save any recipe locally in your browser. Your roll history appears below the generator, so you can revisit past dinners anytime. No account needed.</p>
    </details>
    <details>
      <summary>Can I share recipes with my partner?</summary>
      <p>Click "Share with Partner" to copy a link or use your device's native share sheet. Because texting "idk what do YOU want" is so 2019.</p>
    </details>
    <details>
      <summary>Is WhatTheFork free?</summary>
      <p>100% free, no ads, no account required, no email sign-up, no newsletter, no hidden forks. Just roll and eat.</p>
    </details>
  </section>

</main>

<footer>
  <div class="creator-credit">
    <img class="creator-avatar" src="https://static.wixstatic.com/media/68ad1b_96c952149d584505bdfc30a3cbf36795~mv2.jpg" alt="Prajit Datta" onerror="this.style.display='none'" />
    <span>Made with â¤ï¸ by <a href="https://prajitdatta.github.io/" target="_blank" rel="noopener">Prajit Datta</a></span>
  </div>
  <p><a href="https://github.com/prajitdatta" target="_blank" rel="noopener">â­ GitHub @prajitdatta</a> &nbsp;|&nbsp; No forks were harmed in the making of this website.</p>
</footer>

<script>
const RECIPES = [
  {
    id: 1,
    emoji: "ğŸ",
    title: "Creamy Mushroom Carbonara",
    time: "â± 25 min",
    difficulty: "Medium",
    servings: "2 servings",
    category: "Italian",
    categories: ["italian","comfort"],
    funny: "No cream! Well, actually â€” we're using mushrooms instead of meat, so maybe just a tiny bit of cream won't hurt. The Roman nonna can't see us. ğŸ„ğŸ¤«",
    ingredients: [
      { name: "Spaghetti", amount: "200g", notes: "or rigatoni" },
      { name: "Chestnut mushrooms", amount: "200g", notes: "sliced thick â€” they're the star!" },
      { name: "Eggs", amount: "2 whole + 2 yolks", notes: "room temperature" },
      { name: "Pecorino Romano", amount: "60g", notes: "finely grated" },
      { name: "Black pepper", amount: "generous amount", notes: "freshly cracked, key ingredient!" },
      { name: "Garlic", amount: "2 cloves", notes: "minced" },
      { name: "Olive oil", amount: "2 tbsp", notes: "" },
      { name: "Salt", amount: "for pasta water", notes: "very salty like the sea" }
    ],
    steps: [
      "Bring a huge pot of very salty water to a boil. This is not the time to be shy with salt.",
      "SautÃ© mushrooms in olive oil with garlic over high heat until golden-brown and slightly crispy. Remove from heat and let cool slightly.",
      "In a bowl, whisk eggs + yolks with grated pecorino and a LOT of black pepper until smooth. This is your sauce.",
      "Cook pasta 1 minute LESS than package says. Reserve 1 full cup of pasta water â€” liquid gold!",
      "Off heat, add hot drained pasta to the mushroom pan. Add egg mixture and toss furiously, adding splashes of pasta water to create a silky, creamy sauce. Work fast!",
      "Plate immediately, top with more pecorino and a final crack of black pepper. Eat before it gets cold."
    ],
    tips: [
      { type: "upgrade", icon: "â¬†ï¸", title: "Level Up", text: "Add a splash of white wine when frying the mushrooms and scrape up the browned bits for extra depth." },
      { type: "warn", icon: "âš ï¸", title: "Don't Scramble!", text: "Make sure the pan is OFF the heat before adding the egg mix. Too hot = sad scrambled pasta." },
      { type: "wine", icon: "ğŸ·", title: "Pair With", text: "A crisp Pinot Grigio or Frascati. Cold, light white wines complement the earthy mushrooms beautifully." },
      { type: "leftover", icon: "ğŸ“¦", title: "Leftovers?", text: "Carbonara doesn't keep well. Be greedy. Eat it all. This is your excuse." }
    ]
  },
  {
    id: 2,
    emoji: "ğŸœ",
    title: "Thai Green Tofu Curry",
    time: "â± 35 min",
    difficulty: "Easy",
    servings: "3â€“4 servings",
    category: "Asian",
    categories: ["asian","healthy"],
    funny: "Thai green curry is basically a vegetable bath in coconut milk and it is absolutely acceptable to eat this 3 days in a row. No judgment. ğŸ¥¥ğŸŒ¿",
    ingredients: [
      { name: "Thai green curry paste", amount: "3 tbsp", notes: "check label â€” some are vegan, some aren't" },
      { name: "Coconut milk", amount: "400ml", notes: "full fat, don't even think about lite" },
      { name: "Firm tofu", amount: "400g", notes: "pressed and cubed" },
      { name: "Thai basil", amount: "large handful", notes: "added at the end" },
      { name: "Soy sauce", amount: "2 tbsp", notes: "use instead of fish sauce" },
      { name: "Lime", amount: "1", notes: "juice only" },
      { name: "Sugar", amount: "1 tsp", notes: "palm sugar ideal, white is fine" },
      { name: "Zucchini or eggplant", amount: "1 medium", notes: "chopped" },
      { name: "Jasmine rice", amount: "300g", notes: "to serve" }
    ],
    steps: [
      "Press tofu between paper towels with something heavy on top for 10 minutes. This step matters â€” dry tofu fries, wet tofu steams.",
      "Start your jasmine rice â€” it takes about 15 min.",
      "Heat 1 tbsp of the thick top of the coconut milk in a wok over medium-high heat until it sizzles. Add curry paste and fry for 2 minutes until fragrant.",
      "Add tofu cubes and stir to coat in the paste. Cook 3â€“4 minutes until slightly golden.",
      "Pour in the rest of the coconut milk + Â½ cup water. Bring to a gentle simmer. Add vegetables and simmer 10 minutes until tender.",
      "Season with soy sauce, sugar, and lime juice. Taste and adjust. Turn off heat, stir in Thai basil. Serve over jasmine rice."
    ],
    tips: [
      { type: "upgrade", icon: "â¬†ï¸", title: "Level Up", text: "Pan-fry tofu cubes separately until golden and crispy before adding to the curry." },
      { type: "warn", icon: "âš ï¸", title: "Don't Boil Hard", text: "Coconut milk breaks if you boil it aggressively. Gentle simmer is key." },
      { type: "wine", icon: "ğŸº", title: "Pair With", text: "An ice cold Thai beer (Singha, Chang) or a slightly sweet Riesling." },
      { type: "leftover", icon: "ğŸ“¦", title: "Leftovers?", text: "Gets better on day 2! Store separately from rice." }
    ]
  },
  {
    id: 3,
    emoji: "ğŸŒ®",
    title: "Cauliflower Tacos al Pastor",
    time: "â± 40 min",
    difficulty: "Medium",
    servings: "2â€“3 servings",
    category: "Mexican",
    categories: ["mexican"],
    funny: "These are technically street tacos. You could serve them on fine china and they'd still taste like you're standing on a Mexican street corner at midnight. ğŸŒ™ğŸŒ®",
    ingredients: [
      { name: "Cauliflower", amount: "1 medium head", notes: "broken into florets" },
      { name: "Achiote paste", amount: "2 tbsp", notes: "the orange magic block" },
      { name: "Pineapple", amount: "Â½ fresh", notes: "half for marinade, half for topping" },
      { name: "White corn tortillas", amount: "8â€“10 small", notes: "charred in dry pan" },
      { name: "White onion", amount: "Â½", notes: "finely diced" },
      { name: "Fresh cilantro", amount: "big bunch", notes: "chopped" },
      { name: "Lime", amount: "3", notes: "one for marinade, rest for serving" },
      { name: "Garlic", amount: "3 cloves", notes: "minced" },
      { name: "Guajillo chiles", amount: "2", notes: "soaked in hot water 10 min" }
    ],
    steps: [
      "Blend achiote paste, soaked guajillo chiles, garlic, juice of 1 lime, and Â¼ of the pineapple into a thick marinade.",
      "Toss cauliflower florets in marinade. Marinate at least 20 mins (overnight is a game changer).",
      "Roast or pan-fry cauliflower on high heat in a single layer until charred edges appear.",
      "Char your tortillas directly over a gas flame or in a dry cast-iron pan.",
      "Pile cauliflower onto tortillas. Top with diced onion, fresh pineapple chunks, cilantro, and a squeeze of lime.",
      "Eat immediately. Nobody will miss the meat, we promise."
    ],
    tips: [
      { type: "upgrade", icon: "â¬†ï¸", title: "Level Up", text: "Marinate overnight and roast on a charcoal grill for that al pastor char." },
      { type: "warn", icon: "âš ï¸", title: "Small Tortillas Only", text: "Corn tortillas should be small (4â€“5\"). Big flour tortillas = burrito. Different vibe." },
      { type: "wine", icon: "ğŸ¹", title: "Pair With", text: "A spicy paloma (grapefruit + chili salt rim). Non-alcoholic: hibiscus agua fresca." },
      { type: "leftover", icon: "ğŸ“¦", title: "Leftovers?", text: "Make a breakfast hash: fry leftover cauliflower with scrambled eggs." }
    ]
  },
  {
    id: 4,
    emoji: "ğŸ”",
    title: "Crispy Black Bean Smash Burgers",
    time: "â± 20 min",
    difficulty: "Easy",
    servings: "2 servings",
    category: "Comfort",
    categories: ["comfort","quick"],
    funny: "These bean smash burgers are so crispy and satisfying, you'll forget they're not beef. Don't tell your friends. Let them find out after. ğŸ”¨ğŸ«˜",
    ingredients: [
      { name: "Black beans (drained)", amount: "400g tin", notes: "dry them very well!" },
      { name: "Panko breadcrumbs", amount: "4 tbsp", notes: "for binding and crunch" },
      { name: "Cheddar cheese slices", amount: "4 slices", notes: "melted on top" },
      { name: "Brioche burger buns", amount: "2", notes: "toasted in butter" },
      { name: "White onion", amount: "Â½", notes: "thinly sliced" },
      { name: "Pickles", amount: "good handful", notes: "dill, thinly sliced" },
      { name: "Mayonnaise", amount: "3 tbsp", notes: "for sauce" },
      { name: "Ketchup", amount: "1 tbsp", notes: "for sauce" },
      { name: "Hot sauce", amount: "1 tsp", notes: "adjust to taste" },
      { name: "Garlic powder", amount: "1 tsp", notes: "mix into beans" }
    ],
    steps: [
      "Mix mayo, ketchup, and hot sauce. Refrigerate the secret sauce.",
      "Mash black beans with garlic powder, salt, pepper, and panko until a thick paste forms. Don't over-mash.",
      "Divide into 2 balls. Heat a cast iron pan on HIGH with a thin film of oil until screaming hot.",
      "Place bean balls on the pan and immediately SMASH flat with a spatula. Press hard and hold 10 seconds.",
      "Cook 2 minutes until bottom is deeply browned and crispy. Flip carefully. Add 2 cheese slices. Cook 90 more seconds.",
      "Toast buns in butter. Build: sauce on both buns, pickles, smashed patties, onion, more sauce."
    ],
    tips: [
      { type: "upgrade", icon: "â¬†ï¸", title: "Level Up", text: "Add smoked paprika and a dash of Worcestershire sauce to the bean mix for depth." },
      { type: "warn", icon: "âš ï¸", title: "DRY Those Beans!", text: "Pat beans very dry before mashing. Wet beans = falling-apart patties." },
      { type: "wine", icon: "ğŸº", title: "Pair With", text: "An ice cold lager or craft IPA. Burger + cold beer is eternal." },
      { type: "leftover", icon: "ğŸ“¦", title: "Leftovers?", text: "Reheat in a dry pan for crispiness revival. Microwave = sad and soggy." }
    ]
  },
  {
    id: 5,
    emoji: "ğŸ¥—",
    title: "Roasted Veggie NiÃ§oise Salad",
    time: "â± 25 min",
    difficulty: "Easy",
    servings: "2 servings",
    category: "Healthy",
    categories: ["healthy","quick","fancy"],
    funny: "Eating a NiÃ§oise salad makes you feel like you're on the CÃ´te d'Azur in a linen shirt. Even if you're in your pyjamas. ğŸ‡«ğŸ‡·ğŸŒŠ",
    ingredients: [
      { name: "Eggs", amount: "4", notes: "soft-boiled 7 minutes exactly" },
      { name: "Green beans", amount: "150g", notes: "blanched until just tender" },
      { name: "Cherry tomatoes", amount: "200g", notes: "halved" },
      { name: "Black olives", amount: "80g", notes: "NiÃ§oise or Kalamata" },
      { name: "Roasted red peppers", amount: "1 jar", notes: "or roast your own" },
      { name: "Boiled new potatoes", amount: "200g", notes: "halved, still warm" },
      { name: "Dijon mustard", amount: "1 tsp", notes: "for vinaigrette" },
      { name: "Red wine vinegar", amount: "1 tbsp", notes: "for vinaigrette" },
      { name: "Extra virgin olive oil", amount: "4 tbsp", notes: "good quality!" }
    ],
    steps: [
      "Boil eggs for exactly 7 minutes (soft but not runny). Plunge into cold water to stop cooking. Peel carefully.",
      "Blanch green beans in the same boiling water for 3 minutes. Cold water bath to keep them vibrantly green.",
      "Make vinaigrette: whisk mustard, vinegar, salt, pepper, then slowly drizzle in olive oil until emulsified.",
      "Arrange everything on a large plate â€” don't toss it, NiÃ§oise is composed! Potatoes, tomatoes, beans, eggs halved, olives, peppers.",
      "Drizzle generously with vinaigrette. Tear some crusty bread to serve alongside."
    ],
    tips: [
      { type: "upgrade", icon: "â¬†ï¸", title: "Level Up", text: "Add a handful of capers and blanched artichoke hearts for full NiÃ§oise energy." },
      { type: "warn", icon: "âš ï¸", title: "Don't Toss It!", text: "A proper NiÃ§oise is composed (arranged). Tossed salads are for peasants, apparently." },
      { type: "wine", icon: "ğŸ·", title: "Pair With", text: "ProvenÃ§al rosÃ©. Cold. In a big glass. This is mandatory. Non-negotiable." },
      { type: "leftover", icon: "ğŸ“¦", title: "Leftovers?", text: "Keep vinaigrette separate and it'll last 2 days. The composed plate â€” eat it fresh!" }
    ]
  },
  {
    id: 6,
    emoji: "ğŸ›",
    title: "Paneer Tikka Masala",
    time: "â± 45 min",
    difficulty: "Medium",
    servings: "4 servings",
    category: "Indian",
    categories: ["indian","comfort","fancy"],
    funny: "Paneer tikka masala is proof that cheese in a spiced tomato bath is humanity's greatest invention. Sorry, smartphones. ğŸ§€ğŸ”¥",
    ingredients: [
      { name: "Paneer", amount: "400g", notes: "cubed" },
      { name: "Greek yoghurt", amount: "150ml", notes: "for marinade" },
      { name: "Garam masala", amount: "2 tsp", notes: "divided" },
      { name: "Crushed tomatoes", amount: "400g tin", notes: "passata also works" },
      { name: "Heavy cream", amount: "150ml", notes: "the important part" },
      { name: "Onion", amount: "1 large", notes: "finely diced" },
      { name: "Garlic", amount: "5 cloves", notes: "minced" },
      { name: "Fresh ginger", amount: "2cm piece", notes: "grated" },
      { name: "Kashmiri chili powder", amount: "1 tsp", notes: "for that gorgeous red colour!" },
      { name: "Butter", amount: "2 tbsp", notes: "for the sauce base" },
      { name: "Naan or basmati rice", amount: "to serve", notes: "both, ideally" }
    ],
    steps: [
      "Marinate paneer cubes in yoghurt, 1 tsp garam masala, kashmiri chili, salt for at least 20 minutes.",
      "Grill or pan-fry marinated paneer on high heat until charred in spots. Set aside.",
      "In a large pan, melt butter. Fry onion 8â€“10 minutes until golden and soft. Add garlic and ginger.",
      "Add remaining garam masala and stir into onions for 1 minute. Add crushed tomatoes. Simmer 10 minutes.",
      "Pour in cream, stir through. Add paneer pieces. Simmer gently 8 more minutes.",
      "Adjust seasoning. Serve with naan and rice. Sob with happiness."
    ],
    tips: [
      { type: "upgrade", icon: "â¬†ï¸", title: "Level Up", text: "Char your paneer in a screaming hot pan. The golden crust holds up in the sauce." },
      { type: "warn", icon: "âš ï¸", title: "Don't Skip Marinade", text: "The yoghurt marinade adds flavour and helps the paneer char beautifully. 20 minutes minimum." },
      { type: "wine", icon: "ğŸº", title: "Pair With", text: "Mango lassi or an IPA beer. Hoppy bitterness contrasts the creamy, spiced sauce." },
      { type: "leftover", icon: "ğŸ“¦", title: "Leftovers?", text: "Genuinely better next day. Serve with fresh hot naan." }
    ]
  },
  {
    id: 7,
    emoji: "ğŸ«•",
    title: "Shakshuka with Feta",
    time: "â± 25 min",
    difficulty: "Easy",
    servings: "2 servings",
    category: "Healthy",
    categories: ["healthy","quick","comfort"],
    funny: "Shakshuka is eggs baked in spiced tomato sauce and it somehow counts as breakfast, lunch, and dinner. Life is beautiful. ğŸ³ğŸŒ¶ï¸",
    ingredients: [
      { name: "Eggs", amount: "4", notes: "" },
      { name: "Crushed tomatoes", amount: "400g tin", notes: "" },
      { name: "Red pepper", amount: "1", notes: "diced" },
      { name: "Onion", amount: "1 medium", notes: "diced" },
      { name: "Garlic", amount: "3 cloves", notes: "minced" },
      { name: "Cumin", amount: "1 tsp", notes: "" },
      { name: "Smoked paprika", amount: "1 tsp", notes: "" },
      { name: "Chilli flakes", amount: "Â½ tsp", notes: "or to taste" },
      { name: "Feta cheese", amount: "80g", notes: "crumbled over top" },
      { name: "Olive oil", amount: "2 tbsp", notes: "" },
      { name: "Crusty bread", amount: "to serve", notes: "for scooping â€” essential" }
    ],
    steps: [
      "Heat olive oil in a wide pan. Fry onion and pepper 7 minutes until soft.",
      "Add garlic, cumin, smoked paprika, and chilli. Stir 1 minute until fragrant.",
      "Add crushed tomatoes, season with salt. Simmer 10 minutes until sauce is thick and rich.",
      "Make 4 wells in the sauce with a spoon. Crack an egg into each well.",
      "Cover the pan and cook on low-medium heat 5â€“7 minutes until whites are set but yolks are still runny.",
      "Crumble feta over top. Take the pan to the table and serve with crusty bread."
    ],
    tips: [
      { type: "upgrade", icon: "â¬†ï¸", title: "Level Up", text: "Add a dollop of harissa to the sauce for North African heat." },
      { type: "warn", icon: "âš ï¸", title: "Watch Those Yolks!", text: "The eggs cook fast. You want set whites and liquid gold yolks." },
      { type: "wine", icon: "ğŸ§ƒ", title: "Pair With", text: "Strong mint tea or fresh orange juice. Morning vibes." },
      { type: "leftover", icon: "ğŸ“¦", title: "Leftovers?", text: "Make extra sauce (no eggs). Next day: reheat sauce, crack in fresh eggs. 10-minute luxury." }
    ]
  },
  {
    id: 8,
    emoji: "ğŸœ",
    title: "Miso Ramen with Soft-Boiled Egg",
    time: "â± 35 min",
    difficulty: "Medium",
    servings: "2 servings",
    category: "Asian",
    categories: ["asian","comfort"],
    funny: "Homemade ramen sounds terrifying. It is not. This version takes 35 minutes and will make you question why you ever ordered takeout. ğŸ¥¢",
    ingredients: [
      { name: "Ramen noodles", amount: "2 portions", notes: "fresh or dried" },
      { name: "White miso paste", amount: "3 tbsp", notes: "" },
      { name: "Vegetable stock", amount: "1 litre", notes: "good quality" },
      { name: "Eggs", amount: "2", notes: "soft-boiled 6.5 minutes" },
      { name: "Corn kernels", amount: "100g", notes: "tinned or fresh" },
      { name: "Nori sheets", amount: "2", notes: "cut in half" },
      { name: "Spring onions", amount: "3", notes: "sliced" },
      { name: "Bean sprouts", amount: "handful", notes: "" },
      { name: "Sesame oil", amount: "1 tbsp", notes: "" },
      { name: "Soy sauce", amount: "1 tbsp", notes: "" },
      { name: "Garlic", amount: "2 cloves", notes: "minced" }
    ],
    steps: [
      "Soft boil eggs: 6.5 minutes in boiling water, immediately into ice water. Peel and halve before serving.",
      "In a pot, fry garlic in sesame oil 1 minute. Add vegetable stock and bring to a simmer.",
      "Whisk miso paste with a ladle of hot stock until smooth, then stir into the pot. Add soy sauce. Don't boil after adding miso.",
      "Cook ramen noodles separately according to packet. Drain and divide between bowls.",
      "Ladle hot miso broth over noodles. Arrange toppings: corn, bean sprouts, spring onions, halved soft-boiled egg, nori.",
      "Drizzle extra sesame oil over top. Eat with chopsticks."
    ],
    tips: [
      { type: "upgrade", icon: "â¬†ï¸", title: "Level Up", text: "Add a tablespoon of butter to the broth at the end for glossy Sapporo-style ramen." },
      { type: "warn", icon: "âš ï¸", title: "Don't Boil the Miso!", text: "Once miso is added, keep heat low. Boiling destroys the complex flavour." },
      { type: "wine", icon: "ğŸº", title: "Pair With", text: "Cold Japanese beer (Sapporo, Asahi) or barley tea." },
      { type: "leftover", icon: "ğŸ“¦", title: "Leftovers?", text: "Store broth and noodles separately. Reheat broth, add fresh noodles." }
    ]
  },
  {
    id: 9,
    emoji: "ğŸƒ",
    title: "Pesto Gnocchi with Crispy Sage",
    time: "â± 15 min",
    difficulty: "Easy",
    servings: "2 servings",
    category: "Italian",
    categories: ["italian","comfort","quick"],
    funny: "Pan-fried gnocchi is the trick nobody tells you about. You've been boiling them your whole life. Stop that immediately. ğŸ¥”âœ¨",
    ingredients: [
      { name: "Potato gnocchi", amount: "400g", notes: "shop-bought, fresh or vacuum-packed" },
      { name: "Fresh basil pesto", amount: "4 tbsp", notes: "jarred is fine" },
      { name: "Butter", amount: "30g", notes: "" },
      { name: "Fresh sage leaves", amount: "12â€“15", notes: "" },
      { name: "Cherry tomatoes", amount: "150g", notes: "halved" },
      { name: "Pine nuts", amount: "2 tbsp", notes: "toasted" },
      { name: "Parmesan", amount: "30g", notes: "grated" },
      { name: "Garlic", amount: "1 clove", notes: "smashed" },
      { name: "Olive oil", amount: "1 tbsp", notes: "" }
    ],
    steps: [
      "Toast pine nuts in a dry pan 2 minutes until golden. Set aside.",
      "Heat butter and olive oil in a wide pan over medium-high heat. Add smashed garlic and let sizzle 1 minute.",
      "Add gnocchi in a single layer â€” don't overcrowd! Cook without moving 3â€“4 minutes until golden-crispy on the bottom.",
      "Flip gnocchi, add sage leaves. Cook 2 more minutes until gnocchi is golden and sage is crispy.",
      "Remove from heat. Add halved cherry tomatoes and toss gently.",
      "Add pesto and toss to coat. Top with toasted pine nuts and grated parmesan. Serve immediately."
    ],
    tips: [
      { type: "upgrade", icon: "â¬†ï¸", title: "Level Up", text: "Make fresh gnocchi â€” only 20 minutes and the pillowy texture is incomparably better." },
      { type: "warn", icon: "âš ï¸", title: "Single Layer Only!", text: "Overcrowded gnocchi steams instead of crisps. The golden crust is the whole point." },
      { type: "wine", icon: "ğŸ·", title: "Pair With", text: "Soave or a light Pinot Grigio. Grassy pesto needs a wine that doesn't compete." },
      { type: "leftover", icon: "ğŸ“¦", title: "Leftovers?", text: "Re-fry in a dry pan to restore crispiness." }
    ]
  },
  {
    id: 10,
    emoji: "ğŸ§†",
    title: "Crispy Falafel with Tahini",
    time: "â± 30 min",
    difficulty: "Medium",
    servings: "3â€“4 servings",
    category: "Healthy",
    categories: ["healthy","quick","fancy"],
    funny: "Falafel is just blended chickpeas fried in a ball. A very, very good ball. A ball that changed civilisations. ğŸ«¡",
    ingredients: [
      { name: "Dried chickpeas (soaked overnight)", amount: "250g", notes: "NOT canned â€” this matters!" },
      { name: "Onion", amount: "Â½ small", notes: "roughly chopped" },
      { name: "Garlic", amount: "3 cloves", notes: "" },
      { name: "Fresh parsley", amount: "big handful", notes: "" },
      { name: "Cumin", amount: "2 tsp", notes: "" },
      { name: "Coriander", amount: "1 tsp", notes: "" },
      { name: "Baking powder", amount: "1 tsp", notes: "for fluffiness inside" },
      { name: "Sesame seeds", amount: "2 tbsp", notes: "rolled on outside" },
      { name: "Tahini", amount: "3 tbsp", notes: "for sauce" },
      { name: "Lemon", amount: "1", notes: "for tahini sauce" },
      { name: "Oil for frying", amount: "enough to shallow fry", notes: "vegetable or sunflower" }
    ],
    steps: [
      "Drain soaked chickpeas. Blitz in a food processor with onion, garlic, parsley, cumin, coriander, baking powder, salt. Pulse â€” don't blend smooth.",
      "Refrigerate mixture 30 minutes to stop them falling apart in the oil.",
      "Make tahini sauce: whisk tahini, lemon juice, water, salt until smooth and pourable.",
      "Form mixture into golf-ball sized rounds, roll in sesame seeds.",
      "Heat oil in a heavy pan to 175Â°C. Fry falafel in batches 3â€“4 minutes until deep golden-brown.",
      "Drain on paper towel. Serve immediately in warm pitta with tahini and pickles."
    ],
    tips: [
      { type: "upgrade", icon: "â¬†ï¸", title: "Level Up", text: "Add a tiny pinch of cayenne and a tablespoon of flour if mixture is too wet." },
      { type: "warn", icon: "âš ï¸", title: "No Canned Chickpeas!", text: "Canned = too wet = falafel that explodes in the oil. Soaked dried only." },
      { type: "wine", icon: "ğŸº", title: "Pair With", text: "Cold mint lemonade or a light lager." },
      { type: "leftover", icon: "ğŸ“¦", title: "Leftovers?", text: "Reheat in oven or air fryer to restore crispiness." }
    ]
  },
  {
    id: 11,
    emoji: "ğŸ›",
    title: "Dal Makhani",
    time: "â± 60 min",
    difficulty: "Medium",
    servings: "4 servings",
    category: "Indian",
    categories: ["indian","comfort"],
    funny: "Dal Makhani is the little black dress of Indian cooking. Appropriate for every occasion. Weeknight dinner. Dinner party. Heartbreak. ğŸ–¤",
    ingredients: [
      { name: "Black lentils (whole urad dal)", amount: "200g", notes: "soaked overnight" },
      { name: "Kidney beans (canned)", amount: "1 tin", notes: "drained" },
      { name: "Butter", amount: "3 tbsp", notes: "the makhani in the name" },
      { name: "Onion", amount: "1 large", notes: "finely diced" },
      { name: "Garlic", amount: "5 cloves", notes: "minced" },
      { name: "Ginger", amount: "2cm piece", notes: "grated" },
      { name: "Crushed tomatoes", amount: "400g tin", notes: "" },
      { name: "Garam masala", amount: "1.5 tsp", notes: "" },
      { name: "Heavy cream", amount: "100ml", notes: "stirred in at the end" },
      { name: "Kasuri methi (dried fenugreek)", amount: "1 tsp", notes: "the secret ingredient" }
    ],
    steps: [
      "Pressure cook or boil soaked lentils until completely soft. Add kidney beans.",
      "In a separate pan, melt butter. Fry onion 10 minutes until deeply golden-brown.",
      "Add garlic and ginger, cook 2 minutes. Add garam masala and stir 1 minute. Add crushed tomatoes and simmer 15 minutes.",
      "Add cooked lentils and beans. Add a cup of water. Simmer 20 minutes.",
      "Stir in cream and crushed kasuri methi. Simmer 5 more minutes.",
      "Top with a pat of butter and serve hot with rice or naan."
    ],
    tips: [
      { type: "upgrade", icon: "â¬†ï¸", title: "Level Up", text: "Slow simmer for 3+ hours on the lowest heat transforms good dal into legendary dal." },
      { type: "warn", icon: "âš ï¸", title: "Soak the Lentils!", text: "Whole urad dal takes forever without soaking. 8 hours minimum." },
      { type: "wine", icon: "ğŸº", title: "Pair With", text: "Sweet mango lassi or a cold Kingfisher beer." },
      { type: "leftover", icon: "ğŸ“¦", title: "Leftovers?", text: "Improves overnight. Ultimate batch cook â€” make double and freeze." }
    ]
  },
  {
    id: 12,
    emoji: "ğŸ¥¬",
    title: "Saag Paneer",
    time: "â± 35 min",
    difficulty: "Easy",
    servings: "3â€“4 servings",
    category: "Indian",
    categories: ["indian","healthy","comfort"],
    funny: "Saag paneer is proof that spinach and cheese should be best friends everywhere. India figured this out first. ğŸŒ¿ğŸ§€",
    ingredients: [
      { name: "Paneer", amount: "300g", notes: "cubed" },
      { name: "Fresh or frozen spinach", amount: "500g", notes: "wilted if fresh" },
      { name: "Onion", amount: "1 large", notes: "finely diced" },
      { name: "Garlic", amount: "4 cloves", notes: "minced" },
      { name: "Ginger", amount: "2cm", notes: "grated" },
      { name: "Green chillies", amount: "1â€“2", notes: "adjust to heat preference" },
      { name: "Cumin seeds", amount: "1 tsp", notes: "bloomed in oil" },
      { name: "Garam masala", amount: "1 tsp", notes: "" },
      { name: "Heavy cream or yoghurt", amount: "3 tbsp", notes: "stirred in at end" },
      { name: "Oil", amount: "2 tbsp", notes: "" }
    ],
    steps: [
      "Pan-fry paneer cubes in a little oil until golden on all sides. Set aside.",
      "Wilt spinach in the same pan with a splash of water. Blend roughly.",
      "Heat oil, add cumin seeds and let them sizzle. Add onion and fry 8 minutes until golden.",
      "Add garlic, ginger, and green chillies. Cook 2 minutes. Add garam masala and stir 1 minute.",
      "Add blended spinach. Stir to combine and simmer 10 minutes.",
      "Add golden paneer cubes. Stir in cream or yoghurt. Simmer 5 more minutes. Serve with naan."
    ],
    tips: [
      { type: "upgrade", icon: "â¬†ï¸", title: "Level Up", text: "Blanch spinach and plunge into ice water before blending to keep it vibrantly green." },
      { type: "warn", icon: "âš ï¸", title: "Don't Skip the Fry", text: "Golden pan-fried paneer holds its shape and tastes 10x better." },
      { type: "wine", icon: "ğŸº", title: "Pair With", text: "Mango lassi or a cold lager. Sweetness offsets the earthy spinach." },
      { type: "leftover", icon: "ğŸ“¦", title: "Leftovers?", text: "Excellent next day. Reheat gently with a splash of water." }
    ]
  },
  {
    id: 13,
    emoji: "ğŸ«”",
    title: "Halloumi & Roasted Pepper Wraps",
    time: "â± 20 min",
    difficulty: "Easy",
    servings: "2 servings",
    category: "Comfort",
    categories: ["comfort","quick","healthy"],
    funny: "Halloumi squeaks when it's fresh. It is the most fun food to eat and anyone who says otherwise is wrong. ğŸµğŸ§€",
    ingredients: [
      { name: "Halloumi", amount: "250g", notes: "sliced 1cm thick" },
      { name: "Roasted red peppers (jar)", amount: "200g", notes: "sliced" },
      { name: "Large flour tortillas", amount: "2", notes: "warmed" },
      { name: "Hummus", amount: "4 tbsp", notes: "generous spread" },
      { name: "Rocket", amount: "big handful", notes: "" },
      { name: "Avocado", amount: "1", notes: "sliced" },
      { name: "Lemon", amount: "Â½", notes: "for squeezing" },
      { name: "Smoked paprika", amount: "pinch", notes: "for the halloumi" },
      { name: "Olive oil", amount: "1 tbsp", notes: "" }
    ],
    steps: [
      "Slice halloumi and pat dry. Toss with olive oil and smoked paprika.",
      "Fry halloumi in a dry non-stick pan over high heat 2 minutes per side until golden.",
      "Warm tortillas in the same pan or microwave 20 seconds.",
      "Spread hummus generously. Top with rocket, roasted peppers, avocado, and golden halloumi.",
      "Squeeze lemon over everything. Fold and wrap tightly. Cut in half on the diagonal.",
      "Eat immediately while halloumi is still squeaky and crispy."
    ],
    tips: [
      { type: "upgrade", icon: "â¬†ï¸", title: "Level Up", text: "Add a drizzle of sweet chilli sauce or harissa for a kick." },
      { type: "warn", icon: "âš ï¸", title: "No Oil in the Pan!", text: "Fry halloumi in a DRY pan. It releases its own moisture, then browns beautifully." },
      { type: "wine", icon: "ğŸ¥¤", title: "Pair With", text: "Sparkling water with mint and lemon. Fresh and cuts through the richness." },
      { type: "leftover", icon: "ğŸ“¦", title: "Leftovers?", text: "Assembled wraps don't survive well â€” make to order." }
    ]
  },
  {
    id: 14,
    emoji: "ğŸ«˜",
    title: "Smoky Chipotle Bean Chilli",
    time: "â± 35 min",
    difficulty: "Easy",
    servings: "4 servings",
    category: "Comfort",
    categories: ["comfort","healthy","mexican"],
    funny: "This chilli doesn't need meat because it has SMOKE and HEAT and three types of beans. More than enough character. ğŸŒ¶ï¸ğŸ”¥",
    ingredients: [
      { name: "Mixed beans (kidney, black, pinto)", amount: "2 Ã— 400g tins", notes: "drained" },
      { name: "Chipotle in adobo", amount: "2 tbsp", notes: "the smoky magic" },
      { name: "Crushed tomatoes", amount: "400g tin", notes: "" },
      { name: "Onion", amount: "1 large", notes: "diced" },
      { name: "Garlic", amount: "4 cloves", notes: "minced" },
      { name: "Smoked paprika", amount: "2 tsp", notes: "" },
      { name: "Cumin", amount: "1 tsp", notes: "" },
      { name: "Dark chocolate", amount: "20g", notes: "the secret weapon" },
      { name: "Lime", amount: "1", notes: "" },
      { name: "Soured cream & cheddar", amount: "to serve", notes: "" }
    ],
    steps: [
      "Fry onion in oil over medium-high heat 8 minutes until golden. Add garlic, cook 1 more minute.",
      "Add smoked paprika and cumin. Stir 1 minute until fragrant.",
      "Add chipotle in adobo, crushed tomatoes, and drained beans. Stir to combine.",
      "Simmer 20 minutes until thick. Stir in dark chocolate until melted.",
      "Squeeze over lime juice. Taste and season.",
      "Serve with soured cream, cheddar, and tortilla chips."
    ],
    tips: [
      { type: "upgrade", icon: "â¬†ï¸", title: "Level Up", text: "Make it the day before. Chilli always tastes better after a night of contemplating itself." },
      { type: "warn", icon: "âš ï¸", title: "Chipotle = HOT", text: "Start with 1 tbsp if you're heat-sensitive and taste before adding more." },
      { type: "wine", icon: "ğŸº", title: "Pair With", text: "Cold lager or a bold Malbec." },
      { type: "leftover", icon: "ğŸ“¦", title: "Leftovers?", text: "Freezes perfectly for 3 months. Perfect batch cook." }
    ]
  },
  {
    id: 15,
    emoji: "ğŸ¥",
    title: "Korean Pajeon (Spring Onion Pancakes)",
    time: "â± 20 min",
    difficulty: "Easy",
    servings: "2 servings",
    category: "Asian",
    categories: ["asian","quick","comfort"],
    funny: "Pajeon is the Korean pancake you make when it's raining and you can't be bothered. It is always the right decision. â˜”ğŸ¥",
    ingredients: [
      { name: "Spring onions", amount: "10â€“12", notes: "cut into 8cm lengths" },
      { name: "All-purpose flour", amount: "150g", notes: "" },
      { name: "Rice flour", amount: "50g", notes: "for extra crispiness" },
      { name: "Cold water", amount: "200ml", notes: "very cold â€” helps crispy texture" },
      { name: "Egg", amount: "1", notes: "" },
      { name: "Soy sauce", amount: "2 tbsp", notes: "for dipping sauce" },
      { name: "Rice vinegar", amount: "1 tbsp", notes: "for dipping sauce" },
      { name: "Sesame oil", amount: "1 tsp", notes: "for dipping sauce" },
      { name: "Vegetable oil", amount: "3 tbsp", notes: "for frying" }
    ],
    steps: [
      "Mix dipping sauce: soy sauce, rice vinegar, sesame oil, chilli flakes. Set aside.",
      "Whisk flours, cold water, egg, and salt into a smooth batter. Don't overmix.",
      "Heat oil in a large non-stick pan on medium-high until shimmering.",
      "Pour batter into pan to make a thin pancake. Arrange spring onion pieces all over the top.",
      "Cook 3â€“4 minutes until edges are set and bottom is deeply golden. Flip and cook 2â€“3 minutes more.",
      "Cut into squares. Serve immediately with dipping sauce."
    ],
    tips: [
      { type: "upgrade", icon: "â¬†ï¸", title: "Level Up", text: "Add kimchi to the batter for a fermented, spicy Kimchi Jeon." },
      { type: "warn", icon: "âš ï¸", title: "Cold Water = Crispy", text: "Ice cold water develops less gluten = crispier pancake." },
      { type: "wine", icon: "ğŸ¶", title: "Pair With", text: "Makgeolli (Korean rice wine) or cold Korean beer." },
      { type: "leftover", icon: "ğŸ“¦", title: "Leftovers?", text: "Reheat in a dry pan for 2 minutes each side. Microwave will ruin them." }
    ]
  },
  {
    id: 16,
    emoji: "ğŸ²",
    title: "Chana Masala",
    time: "â± 40 min",
    difficulty: "Easy",
    servings: "4 servings",
    category: "Indian",
    categories: ["indian","healthy","comfort"],
    funny: "Chana masala is spicy chickpea excellence. It is also technically a health food. You can eat it four nights in a row and call it a cleanse. âœ¨",
    ingredients: [
      { name: "Chickpeas (canned)", amount: "2 Ã— 400g tins", notes: "drained" },
      { name: "Onion", amount: "2 medium", notes: "finely diced" },
      { name: "Garlic", amount: "4 cloves", notes: "minced" },
      { name: "Ginger", amount: "2cm", notes: "grated" },
      { name: "Tomatoes", amount: "400g tin", notes: "" },
      { name: "Chana masala powder", amount: "2 tbsp", notes: "" },
      { name: "Cumin seeds", amount: "1 tsp", notes: "" },
      { name: "Lemon", amount: "1", notes: "juice at end" },
      { name: "Fresh coriander", amount: "handful", notes: "to garnish" }
    ],
    steps: [
      "Heat oil, add cumin seeds and let them pop. Add onion and fry 10 minutes until deep golden.",
      "Add garlic, ginger, green chillies. Cook 2 minutes. Add chana masala powder, stir 1 minute.",
      "Add tomatoes, cook down 10 minutes until oil starts to separate.",
      "Add drained chickpeas and Â½ cup water. Stir well.",
      "Simmer 15 minutes, mashing a few chickpeas to thicken the sauce.",
      "Finish with lemon juice. Garnish with fresh coriander."
    ],
    tips: [
      { type: "upgrade", icon: "â¬†ï¸", title: "Level Up", text: "Add a pinch of amchur (dry mango powder) at the end for tangy restaurant-level depth." },
      { type: "warn", icon: "âš ï¸", title: "Cook Down the Tomatoes!", text: "Under-cooked tomatoes make the dish acidic. Cook until oil separates." },
      { type: "wine", icon: "ğŸ¥¤", title: "Pair With", text: "Lassi (sweet or salted), chai, or a cold lager." },
      { type: "leftover", icon: "ğŸ“¦", title: "Leftovers?", text: "Freezes perfectly for up to 3 months. Better over 2â€“3 days." }
    ]
  }
];

let currentRecipe = null;
let history = JSON.parse(localStorage.getItem('wtf-history') || '[]');
let activeCategory = 'all';
let rollMode = 'random';

// â”€â”€â”€ MODE TOGGLE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const modeRandom = document.getElementById('mode-random');
const modeCustom = document.getElementById('mode-custom');
const customPanel = document.getElementById('custom-panel');

modeRandom.addEventListener('click', () => {
  rollMode = 'random';
  modeRandom.classList.add('active'); modeRandom.setAttribute('aria-pressed','true');
  modeCustom.classList.remove('active'); modeCustom.setAttribute('aria-pressed','false');
  customPanel.classList.remove('visible');
});
modeCustom.addEventListener('click', () => {
  rollMode = 'custom';
  modeCustom.classList.add('active'); modeCustom.setAttribute('aria-pressed','true');
  modeRandom.classList.remove('active'); modeRandom.setAttribute('aria-pressed','false');
  customPanel.classList.add('visible');
  if (document.querySelectorAll('.choice-input').length === 0) {
    addChoiceRow(''); addChoiceRow(''); addChoiceRow('');
  }
});

// â”€â”€â”€ CUSTOM CHOICES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function addChoiceRow(value = '') {
  const list = document.getElementById('choices-list');
  const row = document.createElement('div');
  row.className = 'choice-row';
  row.innerHTML = `
    <input type="text" class="choice-input" placeholder="e.g. Pasta, Stir fry, Tacos..." value="${value}" maxlength="60" aria-label="Meal option" />
    <button class="remove-choice" title="Remove" aria-label="Remove this option">âœ•</button>
  `;
  row.querySelector('.remove-choice').addEventListener('click', () => {
    row.style.opacity = '0';
    row.style.transform = 'translateX(10px)';
    row.style.transition = 'all 0.15s ease';
    setTimeout(() => row.remove(), 150);
  });
  list.appendChild(row);
  row.querySelector('.choice-input').focus();
}

document.getElementById('add-choice-btn').addEventListener('click', () => addChoiceRow());

function getCustomChoices() {
  return Array.from(document.querySelectorAll('.choice-input'))
    .map(i => i.value.trim())
    .filter(v => v.length > 0);
}

// Filters
document.querySelectorAll('.filter-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    activeCategory = btn.dataset.cat;
  });
});

// Dice click
document.getElementById('dice').addEventListener('click', rollDice);
document.getElementById('dice').addEventListener('keydown', e => { if(e.key==='Enter'||e.key===' ') rollDice(); });
document.getElementById('roll-btn').addEventListener('click', rollDice);
document.getElementById('reroll-btn')?.addEventListener('click', rollDice);

function rollDice() {
  const btn = document.getElementById('roll-btn');
  const dice = document.getElementById('dice');
  btn.disabled = true;

  const faces = ['âš€','âš','âš‚','âšƒ','âš„','âš…','ğŸ²'];
  dice.classList.add('rolling');
  let i = 0;
  const interval = setInterval(() => {
    dice.textContent = faces[i % faces.length]; i++;
  }, 80);

  setTimeout(() => {
    clearInterval(interval);
    dice.classList.remove('rolling');
    dice.textContent = faces[Math.floor(Math.random()*6)];

    if (rollMode === 'custom') {
      const choices = getCustomChoices();
      if (choices.length > 0) {
        const picked = choices[Math.floor(Math.random() * choices.length)];
        showCustomResult(picked, choices);
        btn.disabled = false;
        launchConfetti();
        return;
      }
      showToast('No choices entered â€” going full random! ğŸ²');
    }

    const filtered = activeCategory === 'all' ? RECIPES : RECIPES.filter(r => r.categories.includes(activeCategory));
    if (!filtered.length) { showToast("No recipes in that category yet! ğŸ˜…"); btn.disabled=false; return; }
    const pick = filtered[Math.floor(Math.random() * filtered.length)];
    showRecipe(pick);
    btn.disabled = false;
    launchConfetti();
  }, 700);
}

function showCustomResult(picked, allChoices) {
  const card = document.getElementById('recipe-card');
  const content = document.getElementById('recipe-content');
  const empty = document.getElementById('empty-state');
  const banner = document.getElementById('custom-banner');

  empty.style.display = 'none';
  content.style.display = 'none';
  banner.classList.remove('show');

  banner.innerHTML = `
    ğŸ² The dice have spoken! Tonight you're making:<br>
    <span style="font-size:clamp(1.2rem,4vw,1.5rem); font-family:'Boogaloo',cursive;">${picked}</span>
    <br><span style="font-size:0.8rem; font-weight:600; opacity:0.7; margin-top:4px; display:block;">
      Rolled from ${allChoices.length} option${allChoices.length>1?'s':''}: ${allChoices.join(', ')}
    </span>
    <div style="margin-top:14px; display:flex; gap:10px; justify-content:center; flex-wrap:wrap;">
      <button onclick="rollDice()">ğŸ”„ Roll Again</button>
      <button onclick="searchForRecipe('${picked.replace(/'/g,"\\'")}', this)">ğŸ” Find a Recipe</button>
    </div>
  `;

  card.classList.add('entering', 'visible');
  card.style.opacity = '1';
  card.style.transform = 'translateY(0)';
  card.style.display = 'block';

  setTimeout(() => { banner.classList.add('show'); }, 30);
  card.scrollIntoView({ behavior: 'smooth', block: 'start' });
}

function searchForRecipe(dish, btn) {
  const match = RECIPES.find(r => r.title.toLowerCase().includes(dish.toLowerCase()) || dish.toLowerCase().includes(r.title.toLowerCase().split(' ')[0]));
  if (match) {
    document.getElementById('recipe-content').style.display = 'block';
    showRecipe(match);
    showToast(`ğŸ‰ Found "${match.title}" in our library!`);
  } else {
    window.open(`https://www.youtube.com/results?search_query=${encodeURIComponent(dish + ' recipe')}`, '_blank');
  }
}

function showRecipe(recipe) {
  currentRecipe = recipe;
  const card = document.getElementById('recipe-card');
  const content = document.getElementById('recipe-content');
  const empty = document.getElementById('empty-state');

  card.style.display = 'block';
  empty.style.display = 'none';
  content.style.display = 'block';

  document.getElementById('r-emoji').textContent = recipe.emoji;
  document.getElementById('r-title').textContent = recipe.title;
  document.getElementById('r-time').textContent = recipe.time;
  document.getElementById('r-diff').textContent = 'ğŸ“Š ' + recipe.difficulty;
  document.getElementById('r-serv').textContent = 'ğŸ‘¥ ' + recipe.servings;
  document.getElementById('r-cat').textContent = recipe.category;
  document.getElementById('r-funny').textContent = recipe.funny;

  const tbody = document.getElementById('r-ingredients');
  tbody.innerHTML = '';
  recipe.ingredients.forEach((ing, idx) => {
    const tr = document.createElement('tr');
    tr.className = 'ingredient-row';
    tr.dataset.idx = idx;
    tr.innerHTML = `<td><input type="checkbox" class="check-ingredient" aria-label="Check off ${ing.name}"></td><td>${ing.name}</td><td><strong>${ing.amount}</strong></td><td style="color:#999;font-size:0.85em">${ing.notes||''}</td>`;
    tbody.appendChild(tr);
    tr.querySelector('.check-ingredient').addEventListener('change', function() {
      tr.classList.toggle('checked', this.checked);
    });
  });

  const stepsList = document.getElementById('r-steps');
  stepsList.innerHTML = '';
  recipe.steps.forEach(step => {
    const li = document.createElement('li');
    li.className = 'step-item';
    li.innerHTML = `<span class="step-num"></span><span class="step-text">${step}</span>`;
    stepsList.appendChild(li);
  });

  const tipsGrid = document.getElementById('r-tips');
  tipsGrid.innerHTML = '';
  recipe.tips.forEach(tip => {
    const div = document.createElement('div');
    div.className = `tip-card ${tip.type}`;
    div.innerHTML = `<strong>${tip.icon} ${tip.title}</strong>${tip.text}`;
    tipsGrid.appendChild(div);
  });

  card.classList.remove('visible');
  requestAnimationFrame(() => {
    card.classList.add('entering');
    requestAnimationFrame(() => {
      card.classList.add('visible');
    });
  });

  card.scrollIntoView({ behavior: 'smooth', block: 'start' });
}

document.getElementById('save-btn')?.addEventListener('click', () => {
  if (!currentRecipe) return;
  const existing = history.find(h => h.id === currentRecipe.id);
  if (!existing) {
    history.unshift({ id: currentRecipe.id, title: currentRecipe.title, emoji: currentRecipe.emoji, date: new Date().toLocaleDateString() });
    if (history.length > 12) history = history.slice(0, 12);
    localStorage.setItem('wtf-history', JSON.stringify(history));
    renderHistory();
    showToast('â¤ï¸ Saved to your roll history!');
  } else {
    showToast('Already saved! You loved this one ğŸ˜„');
  }
});

document.getElementById('share-btn')?.addEventListener('click', async () => {
  if (!currentRecipe) return;
  const text = `ğŸ´ WhatTheFork says we're cooking: ${currentRecipe.emoji} ${currentRecipe.title}! Roll yours at whatthefork.app`;
  if (navigator.share) {
    try { await navigator.share({ title: 'WhatTheFork', text, url: 'https://whatthefork.app' }); }
    catch(e) {}
  } else {
    await navigator.clipboard.writeText(text);
    showToast('ğŸ“‹ Copied to clipboard! Send it to your partner ğŸ˜„');
  }
});

function renderHistory() {
  const sec = document.getElementById('history-section');
  const grid = document.getElementById('history-grid');
  if (!history.length) { sec.style.display = 'none'; return; }
  sec.style.display = 'block';
  grid.innerHTML = '';
  history.forEach(h => {
    const div = document.createElement('div');
    div.className = 'history-item';
    div.innerHTML = `<span class="h-emoji">${h.emoji}</span><div class="h-name">${h.title}</div><div class="h-date">${h.date}</div>`;
    div.addEventListener('click', () => {
      const recipe = RECIPES.find(r => r.id === h.id);
      if (recipe) showRecipe(recipe);
    });
    grid.appendChild(div);
  });
}
renderHistory();

function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 3000);
}

function launchConfetti() {
  const canvas = document.getElementById('confetti-canvas');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  const pieces = Array.from({length:80}, () => ({
    x: Math.random()*canvas.width,
    y: -20,
    r: Math.random()*6+3,
    d: Math.random()*80+40,
    color: ['#FFD93D','#FF6B6B','#6BCB77','#4D96FF','#ff9a3c','#c77dff'][Math.floor(Math.random()*6)],
    tilt: Math.random()*10-10,
    tiltAngle: 0,
    tiltSpeed: Math.random()*0.1+0.05
  }));
  let frame = 0;
  function draw() {
    ctx.clearRect(0,0,canvas.width,canvas.height);
    pieces.forEach(p => {
      p.tiltAngle += p.tiltSpeed;
      p.y += (Math.cos(frame/100+p.d)+1.5);
      p.x += Math.sin(frame/80);
      p.tilt = Math.sin(p.tiltAngle)*15;
      ctx.beginPath();
      ctx.lineWidth = p.r;
      ctx.strokeStyle = p.color;
      ctx.moveTo(p.x+p.tilt+p.r/2, p.y);
      ctx.lineTo(p.x+p.tilt, p.y+p.tilt+p.r/2);
      ctx.stroke();
    });
    frame++;
    if(frame < 120) requestAnimationFrame(draw);
    else ctx.clearRect(0,0,canvas.width,canvas.height);
  }
  draw();
}

// Update confetti canvas size on resize
window.addEventListener('resize', () => {
  const canvas = document.getElementById('confetti-canvas');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});
</script>
</body>
</html>
